

1.**如何防止双花攻击**

BTC：preblock,记录上一节点的head的哈希，可以向前溯源

​	   记录交易的过程,通过存储UTXO,未经消费的交易输出,可以看出交易发起时是否有足够的余额

​	   如果篡改之前的节点，需要在篡改节点后再新增起码6个区块，使得修改最长链条，前提是由51%的算力



ETH:在BTC的基础上，记录账户的信息，余额和状态即时更新，通过 nonce 确保交易顺序



**2.layer2层的作用**

安全: 主链验证layer2层链的rollup，压缩结果



**Optimistic Rollup**,通过对有质疑的进行挑战，付出质押费，挑战有争议的交易

**ZK Rollup**：通过密码学来保证安全性


总的来说，就是把一些耗时和耗存储的操作放到layer层，让最终的账户信息变动结果同步到主链

（未知：到底是省去了哪些步骤，实现的加速，交易怎么能合并呢，难道前提是交易的主体双方都是相同的账户吗，而且将layer的节点直接加入主链，难道不也是相同的效果吗）











